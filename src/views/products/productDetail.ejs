<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head.ejs') %>
    <title>Detalle de Producto</title>
    <link href="/css/products/styles-productDetail.css" rel="stylesheet">
</head>
<body>
    <%- include('../partials/header.ejs') %>
    <main>
        <h3>Detalle de Producto</h3>
        <div class="detalle-producto">
            <div class="producto-principal">
                <img src = "/images/adidas/<%= producto.imagen01 %>" alt="<%= producto.nombre %>" class="product_img">
            </div>
            <div class="colores-producto">
                <div class="color01">
                    <img src = "/images/adidas/<%= producto.imagen01 %>" alt="<%= producto.nombre %> color 1" class="product_img">
                </div>
                <div class="color02">
                    <img src = "/images/adidas/<%= producto.imagen02 %>" alt="<%= producto.nombre %> color 2" class="product_img">
                </div>
                <div class="color03">
                    <img src = "/images/adidas/<%= producto.imagen03 %>" alt="<%= producto.nombre %> color 3" class="product_img">
                </div>
            </div>
            <div class="descripcion-producto">
                <div class="nombre-producto">
                    <h4><%= producto.nombre %></h4>
                </div>
                <div class="precio-producto">
                    <% if (producto.descuento != 0) { %>
                        <p class="precio-descuento">$<%= producto.precio %></p>
                        <p class="precio-final">$<%= producto.precio - (producto.precio * producto.descuento)/100 %></p>
                    <% } else { %>
                        <p class="precio">$<%= producto.precio %></p>
                    <% } %>
                </div>
                <div class="caracteristicas-producto">
                    <form action="/carrito" method="POST">
                        <div class="color">
                            <label for="color">Color: </label>
                            <select name="color" id="color">
                                <% for (let i=0; i< producto.colores; i++) { %>
                                <option value="<%= i + 1 %>"><%= i + 1 %></option>
                                <% } %>
                            </select>
                        </div>
                        <div class="talle">
                            <label for="talle">Talle: </label>
                            <select name="talle" id="talle">
                                <% if ( producto.talle1 != undefined) { %>
                                    <option value="talle-1"><%= producto.talle1 %></option>
                                <% } %>
                                <% if ( producto.talle2 != undefined) { %>
                                    <option value="talle-2"><%= producto.talle2 %></option>
                                <% } %>
                                <% if ( producto.talle3 != undefined) { %>
                                    <option value="talle-3"><%= producto.talle3 %></option>
                                <% } %>
                                <% if ( producto.talle4 != undefined) { %>
                                    <option value="talle-4"><%= producto.talle4 %></option>
                                <% } %>
                                <% if ( producto.talle5 != undefined) { %>
                                    <option value="talle-5"><%= producto.talle5 %></option>
                                <% } %>
                                <% if ( producto.talle6 != undefined) { %>
                                    <option value="talle-6"><%= producto.talle6 %></option>
                                <% } %>
                                <% if ( producto.talle7 != undefined) { %>
                                    <option value="talle-7"><%= producto.talle7 %></option>
                                <% } %>
                                <% if ( producto.talle8 != undefined) { %>
                                    <option value="talle-8"><%= producto.talle8 %></option>
                                <% } %>
                                <% if ( producto.talle9 != undefined) { %>
                                    <option value="talle-9"><%= producto.talle9 %></option>
                                <% } %>

                                <!-- <% for (let i=0; i< producto.cantidadTalles; i++) { %>
                                    <option value="talle-<%= i+1 %>"><%= producto.talle1 %></option>
                               <% } %> -->
                            </select>
                        </div>
                        <div class="cantidad">
                            <label for="cantidad">Cantidad: </label>
                            <select name="cantidad" id="cantidad">
                                <% for (let i=0; i < producto.cantidad; i++) { %>
                                    <option value="<%= i+1 %>"><%= i+1 %></option>
                               <% } %>
                            </select>
                        </div>
                        <div class="boton">
                            <button type="submit">Agregar al Carrito <i class="fas fa-cart-plus"></i></button>
                        </div>
                    </form>
                    <form action="/productos/<%= producto.categoria %>/<%= producto.id %>/editar-producto" method="GET">
                        <div class="boton-editar">
                            <button type="submit">Editar</button>
                        </div>
                    </form>
                    <form action="/productos/<%= producto.categoria %>/<%= producto.id %>?_method=DELETE" method="POST">
                        <div class="boton-eliminar">
                            <button type="submit">Eliminar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <%- include('../partials/footer.ejs') %>
</body>
</html>